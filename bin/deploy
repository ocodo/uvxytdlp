#!/bin/bash

${VITE_PORT:=5175}
${YTDLP_DOWNLOADS:=/mnt/Mirage/ytdlp-downloads}
${UVXYTDLP_CONTAINER:=uvxytdlp-ui-container}
${DOCKER_IMAGE:=docker.io/library/uvxytdlp-ui}

docker stop ${UVXYTDLP_CONTAINER}
docker rm ${UVXYTDLP_CONTAINER}

sudo docker run -d \
     -p ${VITE_PORT}:80 \
     -v ${YTDLP_DOWNLOADS}:/ytdlp-downloads \
     --name ${UVXYTDLP_CONTAINER} \
     ${DOCKER_IMAGE}

docker logs ${UVXYTDLP_CONTAINER} -f
